DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Schulstandort Eintrag</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/supabase.min.js"></script>

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-sA+4DHH9G2s6hSR1iW0JzLPIrlxhe/j9UivkRF4wL8Q="
    crossorigin=""
  />

  <!-- Leaflet JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-o9N1jrvv2vUQckC7AXPo2jbaf9bgO1p2KQvuPA+0lEw="
    crossorigin=""
    defer
  ></script>

  <!-- Dein Script -->
  <script src="script.js" defer></script>
</head>
<body>
  <header>
    <img src="logo.png" alt="Logo" class="logo" />
    <h1>Daten eingeben</h1>
  </header>

  <!-- Login-Bereich -->
  <section id="login-view">
    <form id="login-form" novalidate>
      <input type="email" id="email" name="email" placeholder="E-Mail" required autocomplete="username" />
      <input type="password" id="password" name="password" placeholder="Passwort" required autocomplete="current-password" />
      <button type="submit">Anmelden</button>
    </form>
  </section>

  <!-- App-Bereich, sichtbar nach Login -->
  <section id="app-view" style="display: none;">
    <button id="logout-btn" type="button">Abmelden</button>

    <form id="info-form" novalidate>
      <label for="bundesland">Bundesland:</label>
      <select id="bundesland" name="bundesland" required>
        <option value="" disabled selected>Bitte wählen</option>
        <option value="Baden-Württemberg">Baden-Württemberg</option>
        <option value="Bayern">Bayern</option>
        <option value="Berlin">Berlin</option>
        <option value="Brandenburg">Brandenburg</option>
        <option value="Bremen">Bremen</option>
        <option value="Hamburg">Hamburg</option>
        <option value="Hessen">Hessen</option>
        <option value="Mecklenburg-Vorpommern">Mecklenburg-Vorpommern</option>
        <option value="Niedersachsen">Niedersachsen</option>
        <option value="Nordrhein-Westfalen">Nordrhein-Westfalen</option>
        <option value="Rheinland-Pfalz">Rheinland-Pfalz</option>
        <option value="Saarland">Saarland</option>
        <option value="Sachsen">Sachsen</option>
        <option value="Sachsen-Anhalt">Sachsen-Anhalt</option>
        <option value="Schleswig-Holstein">Schleswig-Holstein</option>
        <option value="Thüringen">Thüringen</option>
      </select>

      <label for="klassenstufe">Klassenstufe:</label>
      <input type="text" id="klassenstufe" name="klassenstufe" placeholder="z. B. 10" required />

      <label for="schulart">Schulart:</label>
      <input type="text" id="schulart" name="schulart" placeholder="z. B. Gymnasium" required />

      <label for="fach">Fach:</label>
      <input type="text" id="fach" name="fach" placeholder="z. B. Mathematik" required />

      <label for="thema">Thema:</label>
      <input type="text" id="thema" name="thema" placeholder="z. B. Lineare Gleichungen" required />

      <!-- Versteckte Felder für Koordinaten -->
      <input type="hidden" id="latitude" name="latitude" />
      <input type="hidden" id="longitude" name="longitude" />

      <p><small>Bitte klicken Sie auf die Karte, um den Standort zu markieren.</small></p>

      <button type="submit">Speichern</button>
    </form>

    <!-- Leaflet Karte -->
    <div
      id="map"
      style="width: 100%; height: 400px; margin-top: 2rem; border-radius: 12px;"
      role="region"
      aria-label="Karte zur Auswahl des Schulstandorts"
      tabindex="0"
    ></div>
  </section>
</body>
</html>
